<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/blog/styles.e51249b52271cc2ff59f.css">header{background:rgba(0,0,0,.1);border-bottom:1px dashed #b5e853;padding:20px 20px 4px;text-align:center}header h1,header li,header ul{margin:0;padding:0}header h1{color:#5ff967;font-size:24px}header ul li{display:inline-block;padding:6px 10px;font-size:18px}header ul li a,header ul li a:active,header ul li a:focus,header ul li a:hover{color:#c7c7c7;text-decoration:underline;-webkit-text-decoration-color:#b5e853;text-decoration-color:#b5e853}.highlight{color:#d0d0d0}.highlight table td{padding:5px}.highlight table pre{margin:0}.highlight .w{color:#d0d0d0}.highlight .err{color:#151515;background-color:#ac4142}.highlight .c,.highlight .c1,.highlight .cd,.highlight .cm,.highlight .cs{color:#888}.highlight .cp,.highlight .o,.highlight .ow{color:#f4bf75}.highlight .p,.highlight .pi{color:#d0d0d0}.highlight .gi{color:#90a959}.highlight .gd{color:#ac4142}.highlight .gh{color:#6a9fb5;font-weight:700}.highlight .k,.highlight .kn,.highlight .kp,.highlight .kr,.highlight .kv{color:#aa759f}.highlight .kc,.highlight .kd,.highlight .kt{color:#d28445}.highlight .s,.highlight .s1,.highlight .s2,.highlight .sb,.highlight .sc,.highlight .sd,.highlight .sh,.highlight .sx{color:#90a959}.highlight .sr{color:#75b5aa}.highlight .se,.highlight .si{color:#8f5536}.highlight .nc,.highlight .nn,.highlight .no,.highlight .nt{color:#f4bf75}.highlight .na{color:#6a9fb5}.highlight .il,.highlight .m,.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo,.highlight .mx,.highlight .ss{color:#90a959}.markdown{padding:40px 50px}.markdown section{display:block;margin:0 0 20px}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{margin:0 0 20px}.markdown li{line-height:1.4}.markdown header{background:rgba(0,0,0,.1);border-bottom:1px dashed #b5e853;padding:20px;margin:0 0 40px}.markdown .header-links{text-align:center}.markdown .header-link{display:inline}.markdown header h1{font-size:24px;line-height:1.5;margin:0;text-align:center;font-weight:700;font-family:Monaco,Bitstream Vera Sans Mono,Lucida Console,Terminal,monospace;color:#b5e853;text-shadow:0 1px 1px rgba(0,0,0,.1),0 0 5px rgba(181,232,83,.1),0 0 10px rgba(181,232,83,.1);letter-spacing:-1px;-webkit-font-smoothing:antialiased}.markdown header h2{font-size:18px;font-weight:300;color:#666}.markdown #main_content{width:100%;-webkit-font-smoothing:antialiased}.markdown section img{max-width:100%}.markdown h1,.markdown h2,.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-weight:400;font-family:Monaco,Bitstream Vera Sans Mono,Lucida Console,Terminal,monospace;color:#b5e853;letter-spacing:-.03em;text-shadow:0 1px 1px rgba(0,0,0,.1),0 0 5px rgba(181,232,83,.1),0 0 10px rgba(181,232,83,.1)}.markdown #main_content h1{font-size:30px}.markdown #main_content h2{font-size:24px}.markdown #main_content h3{font-size:18px}.markdown #main_content h4{font-size:14px}.markdown #main_content h5,.markdown #main_content h6{font-size:12px;text-transform:uppercase;margin:0 0 5px}.markdown #main_content h6{color:#999}.markdown dt{font-style:italic;font-weight:700}.markdown blockquote{color:#aaa;padding-left:10px;border-left:1px dotted #666}.markdown pre{padding:10px;font-size:16px;color:#b5e853;text-wrap:normal;overflow:auto;overflow-y:hidden}.markdown code.highlighter-rouge,.markdown pre{background:rgba(0,0,0,.9);border:1px solid hsla(0,0%,100%,.15);border-radius:2px}.markdown code.highlighter-rouge{padding:0 3px;margin:0 -3px;color:#aa759f}.markdown table{width:100%;margin:0 0 20px}.markdown th{text-align:left;border-bottom:1px dashed #b5e853}.markdown td,.markdown th{padding:5px 10px}.markdown hr{height:0;border:0;border-bottom:1px dashed #b5e853;color:#b5e853}.markdown a{color:#63c0f5;text-shadow:0 0 5px rgba(104,182,255,.5)}.markdown a:active,.markdown a:focus{outline:0;border:none;-moz-outline-style:none}.markdown .cf:after,.markdown .cf:before{content:"";display:table}.markdown .cf:after{clear:both}.markdown .cf{zoom:1}.markdown .pagination,.markdown footer{height:50px;line-height:50px;text-align:center}.markdown #wrapper{min-height:calc(100vh - 100px)}*{box-sizing:border-box}*,body{font-family:Monaco,source-code-pro,Menlo,Consolas,Courier New,monospace}body{background-color:#151515;margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#c7c7c7;font-size:16px}.green{color:#00c200}.brightgreen{color:#5ff967}.red{color:#c91b00}.brightred{color:#ff6d67}.yellow{color:#c7c400}.brightyellow{color:#fefb67}.meganta{color:#c930c7}.brightmeganta{color:#ff76ff}.cyan{color:#00c5c7}.brightcyan{color:#5ffdff}.white{color:#c7c7c7}.brightwhite{color:#feffff}.blue{color:#0225c7}.brightblue{color:#6871ff}.articles{list-style-position:outside;list-style-type:disc;padding-left:100px;padding-right:100px}.article{padding:20px 0;color:#feffff;list-style-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAKEAYAAAD++UIrAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAAB3RJTUUH4QEFFQUT+FZvBQAAAUtJREFUOMu1lL1qAkEURmdXGxtLCQRBsbMSa7ERBAmkyIKFoGLjC9nqgtqIkBTBBV/AwtJOH2BhtVOxUsHi7A1ZSDb+ZG5zmJ2d75t7Z+YajuN5lpVOK6WUUp0O7HbhZPLy+vT8/nE6qTvD+fRc602fvkECySTD1QrGYnC9hoMBtG0Ml8vbEtCnb6iIiihDjOJxPlersNmEhUJw2WwGez04HmN8OIQn8v/6XwmEG2cyjBoNWK9DuRr7PRyNxBjD+fy6E7pf/88EfjY0/BXFImy1gsamCXM5jBYLXfrm9Vv/HtksrFRgqRQUdl243erW//UEqEQiwahWC1Ygn4fHo/+3A6W7TKdU/nwOr/Tj+n4XikaZsCwod7FchjIv3cG2Yb+P0GYTvlF9+v7CVArKI5HXPhxCeTTSHW4Nffp+ArsdbLfFCEF5/Y+GPv0LjpjmIv4L+ZoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDEtMDVUMjE6MDU6MTkrMDE6MDCJRMiFAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTAxLTA1VDIxOjA1OjE5KzAxOjAw+BlwOQAAAAh0RVh0bGFiZWwAPj6zNXeIAAAAAElFTkSuQmCC)}.article h2{font-size:26px;text-decoration:underline}.article a,.article a:active,.article a:focus,.article a:hover{color:#b5e853}.article .datetime{margin:20px 0}</style><meta name="generator" content="Gatsby 2.19.7"/><link as="script" rel="preload" href="/blog/component---src-pages-index-tsx-5978c625d0385f570148.js"/><link as="script" rel="preload" href="/blog/styles-81fca6d8f2059c176e9c.js"/><link as="script" rel="preload" href="/blog/app-89ffc527b50371f83396.js"/><link as="script" rel="preload" href="/blog/commons-f0d8b22b85b4a30fc7e0.js"/><link as="script" rel="preload" href="/blog/webpack-runtime-52a5908571cf2a12b9cd.js"/><link as="fetch" rel="preload" href="/blog/page-data/index/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="blog"><header class="App-header"><h1>baibonjwa@blog:~$</h1><ul><li><a aria-current="page" class="" href="/blog/">Home</a></li><li><a href="/blog/rss">RSS</a></li><li><a href="/blog/search">Search</a></li></ul></header><ul class="articles"><li class="article"><h2><a href="/blog/article/2020-03-11">Nginx GZIP 配置以及查看 GZIP 是否生效的方法</a></h2><p class="datetime">2020-03-11</p><p># Nginx GZIP 配置以及查看 GZIP 是否生效的方法

## 查看 GZIP 是否生效

1. 打开 Developer Tools

2. Network tab 点开需要查看的请求

3. Response Header 的 Content-Encoding 显示了是否已经被 GZIP 过了

   ![dEnN3.png (703×284)](https://i.stack.imgur.com/dEnN3.png)



## 常用的 Nginx GZIP 配置

https://gist.github.com/kilhage/7f0e7546457716dc9174

常用版：

```
gzip_proxied any;
gzip_types
	text/css
	text/plain
	text/javascript
	application/javascript
	application/json
	application/x-javascript
	application/xml
	application/xml+rss
	application/xhtml...</p></li><li class="article"><h2><a href="/blog/article/2020-03-11">\[译\] 在 React, Redux 和 React Router 下的 SSR（Server-Side Rendering）</a></h2><p class="datetime">2020-03-11</p><p># \[译\] 在 React, Redux 和 React Router 下的 SSR（Server-Side Rendering）

## tl;dr

这几天有着关于 Server-Side Rendering 的大量讨论。每个人都说，SSR 很难实现和维护。我使用了 3 种不同的方式创建了 React 的新闻 Web 应用来理解不同方式间的性能和实现间的差异。我想尽可能的让这个应用更加的贴近真实世界的用例。我使用了 React, React-Router, Redux，Node.js 和 Express. 你可以从下面的链接来访问每个应用：

* **Single Page Application** [**bit.ly/spa-react**](http://bit.ly/spa-react)
* **Server-Side Rendering (Universal)** [**bit.ly/ssr-react**](http://bit.ly/ssr-react)
* **带 Redis 的 Server-Side Rendering** [**bit.ly/ssr-cac...</p></li><li class="article"><h2><a href="/blog/article/2020-02-19">升级 Postgresql 的问题</a></h2><p class="datetime">2020-02-19</p><p>&lt;h1&gt;升级 Postgresql 的问题&lt;/h1&gt;

由于以前原因，可能是安装不正确，服务器上同时存在了两个版本的 Postgressql

下面的命令可以查看，服务器上同时存在了几个 pg 的 cluster

```
sudo pg_lsclusters
```

我这次的问题，是同时存在了 9.3 和 9.5，由于需要 UUID 的功能，所以需要升级成 9.5，需要执行下列命令

1. 停止服务

   ```
   sudo /etc/init.d/postgresql stop
   ```

2. 停止 9.5 的 cluster

   ```
   sudo pg_dropcluster 9.5 main --stop
   ```

3. 更新 9.3 的 cluster

   ```
   sudo pg_upgradecluster 9.3 main
   ```

* 这次更新中还遇到了字符集的问题

  需要 export LC_CTYPE=en_US.UTF-8 和 export LC_ALL=en_US.UTF-8

4. 完成更新



Refere...</p></li><li class="article"><h2><a href="/blog/article/2020-02-18">PostgreSQL 和 MySQL 常用命令列表（MAC)</a></h2><p class="datetime">2020-02-18</p><p>&lt;h1&gt;PostgreSQL 和 MySQL 常用命令列表（MAC)&lt;/h1&gt;

Postgres 和 Mysql 是开发者们经常使用的两种数据库，我经常搞混二者的命令，记录一下以便查询：

** 安装启动等命令根据环境会有更适合的方式，只记录我相对常用的。

| Command            | PostgreSQL                                                   | MySQL                                                        |
| ------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Install            | brew install postgresql(via Homebrew)           ...</p></li><li class="article"><h2><a href="/blog/article/2019-06-20">Django 清除 Migration 并重新执行的方法</a></h2><p class="datetime">2019-06-20</p><p>&lt;h1&gt;Django 清除 Migration 并重新执行的方法&lt;/h1&gt;



有时候遇到 Django 由于版本管理等问题，Migration 冲突的时候，可以用下列命令来进行重建：

```shell
find . -path &quot;*/migrations/*.py&quot; -not -name &quot;__init__.py&quot; -delete
```

```shell
find . -path &quot;*/migrations/*.pyc&quot; -delete
```

```shell
./manage.py makemigrations &amp;&amp; ./manage.py migrate
```



References:

...</p></li><li class="article"><h2><a href="/blog/article/2019-06-12">Javascript 简单的双向绑定实现</a></h2><p class="datetime">2019-06-12</p><p># Javascript 简单的双向绑定实现

现代 JS 中数据双向绑定 (Two-way Data Binding) 已经是一个很常见的概念了，那么双向绑定是如何实现的呢，下面就用最简单的方式实现一下双向绑定功能。

先放代码：

源码：https://github.com/tlbai/js-labs/tree/master/two-way-data-binding

HTML：

```html
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;Two Way Data Binding&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  Name: &lt;input v-bind=&quot;name&quot; type=&quot;text&quot; name=&quot;&quot; id=&quot;name&quot;&gt;
  &lt;br /&gt;
  Name: &lt;span v-bind=&quot;name&quot;&gt;&lt;/span&gt;
  &lt;hr /&gt;
  City: &lt;...</p></li><li class="article"><h2><a href="/blog/article/2019-06-05">零配置 JS 打包神器 — Parcel </a></h2><p class="datetime">2019-06-05</p><p>零配置 JS 打包神器 — Parcel 

现在 JS 项目越来越复杂，各式各样的语法规范，以及辅助的工具包特别多，也因此 Webpack 之类的打包工具非常流行，但是 Webpack 由于其强大的灵活性而导致它的配置文件相对复杂一些，大家想试验一些新库，或者新特性的的时候，可能光配置一个包含 es6, eslint, scss 等基础功能的 JS 项目都要花费很多时间。今天介绍了一款非常简便的 JS 打包工具 Parcel，零配置，1 分钟急速上手。但相对的灵活性较差，也不适用于真正大型的项目（在真实的部署环境下，我遇到了很多坑）。不过做简单的 Demo，小型网站，以及实验有趣的特性时，不失为一种不错的选择。

步骤非常简单：

1. 全局安装 parcel-bundler

```shell
yarn global add parcel-bundler # npm install -g parcel-bundler
```

2. 创建 package.json

```shell
yarn init -y # npm init -y
```

3. 创建一个 index.htm...</p></li><li class="article"><h2><a href="/blog/article/2018-04-18">[踩坑/分享] Ruby 机器学习尝试 — 训练 Atari（雅达利）打弹球游戏 AI </a></h2><p class="datetime">2018-04-18</p><p>[踩坑/分享] Ruby 机器学习尝试 — 训练 Atari（雅达利）打弹球游戏 AI 

众所周知 Ruby 的机器学习一直是相对弱势的区域，那么它的表现究竟如何呢？本文通过尝试实现一个相对复杂的机器学习算法（DQN）来踩一遍在 Ruby 环境下使用机器学习遇到的坑。由于各式各样的坑，最终 Ruby 版本只完成了模型的 80% 且部分核心依旧借助了 Python。由于效率问题，最后也并没有真正的完成，即便如此还是分享出来让大家了解一下吧。

Python 版源码：https://github.com/happybai/atari-agents

Ruby 试做版源码：https://github.com/happybai/atari-agents-rb

Atari 游戏环境 Ruby 接口：https://github.com/happybai/ale_ruby_interface

（下图为 Python 算法版本 CPU 训练1个小时的结果）

![ezgif-4-8529a5715e](/Users/happybai/Documents/ezgif-4-8529a5715e....</p></li></ul></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-89ffc527b50371f83396.js"],"component---src-pages-article-tsx":["/component---src-pages-article-tsx-16a4912aba0ee8155000.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-5978c625d0385f570148.js"]};/*]]>*/</script><script src="/blog/webpack-runtime-52a5908571cf2a12b9cd.js" async=""></script><script src="/blog/commons-f0d8b22b85b4a30fc7e0.js" async=""></script><script src="/blog/app-89ffc527b50371f83396.js" async=""></script><script src="/blog/styles-81fca6d8f2059c176e9c.js" async=""></script><script src="/blog/component---src-pages-index-tsx-5978c625d0385f570148.js" async=""></script></body></html>